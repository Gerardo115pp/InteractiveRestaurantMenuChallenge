"use strict";(self.webpackChunkexpress_lunch_delivery_exercise_1=self.webpackChunkexpress_lunch_delivery_exercise_1||[]).push([[511],{797:(e,t,n)=>{var a=n(661),r=n(278);function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}new(i((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addItem=function(e){t.cart_items[e.name]||(t.cart_items[e.name]={count:0,price:e.price}),t.cart_items[e.name].count++,console.log(e),a.Z.writeToGeneric({owner:"CART",field:"CART_ITEMS",value:t.cart_items}),t.updateComponent()},this.draw=function(){var e=document.createElement("div");e.id="cart-component";var n=document.createElement("h3");n.innerText="Order Details",n.id="cart-title",e.appendChild(n);var a=document.createElement("div");a.id="cart-search-bar-container",a.innerHTML='\n            <input type="text" id="cart-search-bar" />\n            <div id="cart-search-bar-btn">Add</div>\n        ',e.appendChild(a);var r=document.createElement("div");r.id="cart-content";for(var c="",i=new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:2}),o=0,d=0,s=Object.keys(t.cart_items);d<s.length;d++){var l=s[d],m=t.cart_items[l].count*t.cart_items[l].price;c+='\n                <div class="cart-item">\n                    <span class="cart-item-label">'.concat(l," (").concat(t.cart_items[l].count||"Wierd",") ").concat(i.format(t.cart_items[l].price),'c/u</span>\n                    <span class="cart-item-total">').concat(i.format(t.cart_items[l].count*t.cart_items[l].price),'</span>\n                    <span class="material-symbols-outlined cart-item-remove-btn">delete_forever</span>\n                </div>\n            '),o+=m}r.innerHTML=c,e.appendChild(r);var p=document.createElement("div");p.id="cart-total",p.innerHTML="\n            <span>Total:</span>\n            <span>".concat(i.format(o),"</span>\n        "),e.appendChild(p);var u=document.createElement("div");u.id="cart-actions-container";var v=document.createElement("div");v.id="place-order-btn",v.classList.add("cart-action"),v.innerText="Place Order",u.appendChild(v);var _=document.createElement("div");_.id="clear-cart-btn",_.classList.add("cart-action"),_.innerText="Clear",_.onclick=t.resetItems,u.appendChild(_),e.appendChild(u),document.getElementById("cart-container").appendChild(e)},this.init=function(){t.draw(),document.addEventListener(r.Z.ITEM_ADDED_TO_CART,(function(e){return t.addItem(e.detail)}))},this.resetItems=function(){t.cart_items={},a.Z.writeToGeneric({owner:"CART",field:"CART_ITEMS",value:t.cart_items}),t.updateComponent()},this.updateComponent=function(){var e=document.getElementById("cart-component");null==e||e.remove(),t.draw()};var n=a.Z.readFromGeneric({owner:"CART",field:"CART_ITEMS"});console.log("last_cart",n),this.cart_items=n||{},this.init()})))}},e=>{e(e.s=797)}]);